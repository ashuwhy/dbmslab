{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rakes/OneDrive/Desktop/Sujal/WebD/Dbms/dbmslab/apps/web/lib/auth.ts"],"sourcesContent":["export const getToken = () => {\r\n    if (typeof window !== 'undefined') {\r\n        return localStorage.getItem('token');\r\n    }\r\n    return null;\r\n};\r\n\r\nexport const getRole = () => {\r\n    if (typeof window !== 'undefined') {\r\n        return localStorage.getItem('role');\r\n    }\r\n    return null;\r\n};\r\n\r\nexport const logout = () => {\r\n    if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('token');\r\n        localStorage.removeItem('role');\r\n        window.dispatchEvent(new Event('auth-change'));\r\n        window.location.href = '/login';\r\n    }\r\n};\r\n\r\nexport const setAuth = (token: string, role: string) => {\r\n    if (typeof window !== 'undefined') {\r\n        localStorage.setItem('token', token);\r\n        localStorage.setItem('role', role);\r\n        window.dispatchEvent(new Event('auth-change'));\r\n    }\r\n};\r\n\r\nexport const fetchWithAuth = async (url: string, options: RequestInit = {}) => {\r\n    const token = getToken();\r\n    const headers = {\r\n        'Content-Type': 'application/json',\r\n        ...options.headers,\r\n        ...(token ? { Authorization: `Bearer ${token}` } : {}),\r\n    };\r\n\r\n    const res = await fetch(url, { ...options, headers });\r\n\r\n    if (res.status === 401) {\r\n        logout();\r\n    }\r\n\r\n    return res;\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAAO,MAAM,WAAW;IACpB,wCAAmC;QAC/B,OAAO,aAAa,OAAO,CAAC;IAChC;;;AAEJ;AAEO,MAAM,UAAU;IACnB,wCAAmC;QAC/B,OAAO,aAAa,OAAO,CAAC;IAChC;;;AAEJ;AAEO,MAAM,SAAS;IAClB,wCAAmC;QAC/B,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,OAAO,aAAa,CAAC,IAAI,MAAM;QAC/B,OAAO,QAAQ,CAAC,IAAI,GAAG;IAC3B;AACJ;AAEO,MAAM,UAAU,CAAC,OAAe;IACnC,wCAAmC;QAC/B,aAAa,OAAO,CAAC,SAAS;QAC9B,aAAa,OAAO,CAAC,QAAQ;QAC7B,OAAO,aAAa,CAAC,IAAI,MAAM;IACnC;AACJ;AAEO,MAAM,gBAAgB,OAAO,KAAa,UAAuB,CAAC,CAAC;IACtE,MAAM,QAAQ;IACd,MAAM,UAAU;QACZ,gBAAgB;QAChB,GAAG,QAAQ,OAAO;QAClB,GAAI,QAAQ;YAAE,eAAe,CAAC,OAAO,EAAE,OAAO;QAAC,IAAI,CAAC,CAAC;IACzD;IAEA,MAAM,MAAM,MAAM,MAAM,KAAK;QAAE,GAAG,OAAO;QAAE;IAAQ;IAEnD,IAAI,IAAI,MAAM,KAAK,KAAK;QACpB;IACJ;IAEA,OAAO;AACX"}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rakes/OneDrive/Desktop/Sujal/WebD/Dbms/dbmslab/apps/web/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n    return twMerge(clsx(inputs))\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACtC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACxB"}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rakes/OneDrive/Desktop/Sujal/WebD/Dbms/dbmslab/apps/web/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n    \"inline-flex items-center justify-center whitespace-nowrap rounded-none text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50\",\r\n    {\r\n        variants: {\r\n            variant: {\r\n                default:\r\n                    \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\r\n                destructive:\r\n                    \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\r\n                outline:\r\n                    \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\r\n                secondary:\r\n                    \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\r\n                ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n                link: \"text-primary underline-offset-4 hover:underline\",\r\n            },\r\n            size: {\r\n                default: \"h-9 px-4 py-2\",\r\n                sm: \"h-8 rounded-none px-3 text-xs\",\r\n                lg: \"h-10 rounded-none px-8\",\r\n                icon: \"h-9 w-9\",\r\n            },\r\n        },\r\n        defaultVariants: {\r\n            variant: \"default\",\r\n            size: \"default\",\r\n        },\r\n    }\r\n)\r\n\r\nexport interface ButtonProps\r\n    extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n    asChild?: boolean\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n    ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n        const Comp = asChild ? Slot : \"button\"\r\n        return (\r\n            <Comp\r\n                className={cn(buttonVariants({ variant, size, className }))}\r\n                ref={ref}\r\n                {...props}\r\n            />\r\n        )\r\n    }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACtB,yOACA;IACI,UAAU;QACN,SAAS;YACL,SACI;YACJ,aACI;YACJ,SACI;YACJ,WACI;YACJ,OAAO;YACP,MAAM;QACV;QACA,MAAM;YACF,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACV;IACJ;IACA,iBAAiB;QACb,SAAS;QACT,MAAM;IACV;AACJ;AASJ,MAAM,uBAAS,2KAAgB,MAC3B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACtD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAC9B,qBACI,6LAAC;QACG,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGrB;;AAEJ,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 155, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rakes/OneDrive/Desktop/Sujal/WebD/Dbms/dbmslab/apps/web/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst badgeVariants = cva(\r\n    \"inline-flex items-center rounded-none border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\r\n    {\r\n        variants: {\r\n            variant: {\r\n                default:\r\n                    \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\r\n                secondary:\r\n                    \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n                destructive:\r\n                    \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\r\n                outline: \"text-foreground\",\r\n            },\r\n        },\r\n        defaultVariants: {\r\n            variant: \"default\",\r\n        },\r\n    }\r\n)\r\n\r\nexport interface BadgeProps\r\n    extends React.HTMLAttributes<HTMLDivElement>,\r\n    VariantProps<typeof badgeVariants> { }\r\n\r\nfunction Badge({ className, variant, ...props }: BadgeProps) {\r\n    return (\r\n        <div className={cn(badgeVariants({ variant }), className)} {...props} />\r\n    )\r\n}\r\n\r\nexport { Badge, badgeVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACrB,0KACA;IACI,UAAU;QACN,SAAS;YACL,SACI;YACJ,WACI;YACJ,aACI;YACJ,SAAS;QACb;IACJ;IACA,iBAAiB;QACb,SAAS;IACb;AACJ;AAOJ,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACvD,qBACI,6LAAC;QAAI,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAE5E;KAJS"}},
    {"offset": {"line": 203, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rakes/OneDrive/Desktop/Sujal/WebD/Dbms/dbmslab/apps/web/app/components/Navbar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useSyncExternalStore } from 'react';\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\nimport { getRole, logout } from '@/lib/auth';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Badge } from '@/components/ui/badge';\r\n\r\nconst subscribe = (callback: () => void) => {\r\n    window.addEventListener('storage', callback);\r\n    window.addEventListener('auth-change', callback);\r\n    return () => {\r\n        window.removeEventListener('storage', callback);\r\n        window.removeEventListener('auth-change', callback);\r\n    };\r\n};\r\n\r\nexport default function Navbar() {\r\n    const role = useSyncExternalStore(subscribe, getRole, () => null);\r\n    const pathname = usePathname();\r\n\r\n    const handleLogout = () => {\r\n        logout();\r\n        // Since logout redirects, we might not need to manually push, \r\n        // but keeping it for safety if logout() behavior changes.\r\n    };\r\n\r\n    const isActive = (path: string) => pathname === path || pathname.startsWith(path + '/');\r\n\r\n    // Always render navbar, but content depends on role (or lack thereof)\r\n    const getRoleBadgeColor = (role: string) => {\r\n        switch (role) {\r\n            case 'admin': return 'border-red-900 text-red-400 bg-red-900/10';\r\n            case 'instructor': return 'border-blue-900 text-blue-400 bg-blue-900/10';\r\n            case 'student': return 'border-green-900 text-green-400 bg-green-900/10';\r\n            case 'analyst': return 'border-yellow-900 text-yellow-400 bg-yellow-900/10';\r\n            default: return 'border-zinc-700 text-zinc-400';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <nav className=\"border-b border-zinc-800 sticky top-0 bg-[#09090b]/80 backdrop-blur-md z-50 transition-all duration-300\">\r\n            <div className=\"mx-auto max-w-7xl px-6\">\r\n                <div className=\"flex h-16 items-center justify-between\">\r\n                    <div className=\"flex items-center gap-8\">\r\n                        <Link href=\"/\" className=\"flex items-center gap-2 text-lg font-bold text-white tracking-tight hover:text-blue-400 transition-colors\">\r\n                            <span>Index Corruption Institute</span>\r\n                        </Link>\r\n                        <div className=\"flex items-center gap-1\">\r\n                            {role === 'student' && (\r\n                                <>\r\n                                    <Button variant={isActive('/student') ? 'secondary' : 'ghost'} asChild className=\"h-8 text-sm\">\r\n                                        <Link href=\"/student\">Dashboard</Link>\r\n                                    </Button>\r\n                                    <Button variant={isActive('/student/courses') ? 'secondary' : 'ghost'} asChild className=\"h-8 text-sm\">\r\n                                        <Link href=\"/student/courses\">Courses</Link>\r\n                                    </Button>\r\n                                </>\r\n                            )}\r\n                            {role === 'instructor' && (\r\n                                <>\r\n                                    <Button variant={isActive('/instructor') ? 'secondary' : 'ghost'} asChild className=\"h-8 text-sm\">\r\n                                        <Link href=\"/instructor\">Dashboard</Link>\r\n                                    </Button>\r\n                                    <Button variant={isActive('/instructor/courses') ? 'secondary' : 'ghost'} asChild className=\"h-8 text-sm\">\r\n                                        <Link href=\"/instructor/courses\">My Courses</Link>\r\n                                    </Button>\r\n                                    <Button variant={isActive('/instructor/proposals') ? 'secondary' : 'ghost'} asChild className=\"h-8 text-sm\">\r\n                                        <Link href=\"/instructor/proposals\">Proposals</Link>\r\n                                    </Button>\r\n                                </>\r\n                            )}\r\n                            {role === 'admin' && (\r\n                                <>\r\n                                    <Button variant={isActive('/admin') ? 'secondary' : 'ghost'} asChild className=\"h-8 text-sm\">\r\n                                        <Link href=\"/admin\">Dashboard</Link>\r\n                                    </Button>\r\n                                    <Button variant={isActive('/admin/approvals') ? 'secondary' : 'ghost'} asChild className=\"h-8 text-sm\">\r\n                                        <Link href=\"/admin/approvals\">Approvals</Link>\r\n                                    </Button>\r\n                                    <Button variant={isActive('/admin/users') ? 'secondary' : 'ghost'} asChild className=\"h-8 text-sm\">\r\n                                        <Link href=\"/admin/users\">Users</Link>\r\n                                    </Button>\r\n                                    <Button variant={isActive('/admin/courses') ? 'secondary' : 'ghost'} asChild className=\"h-8 text-sm\">\r\n                                        <Link href=\"/admin/courses\">Courses</Link>\r\n                                    </Button>\r\n                                </>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-4\">\r\n                        {role ? (\r\n                            <>\r\n                                <Badge variant=\"outline\" className={`uppercase text-[10px] tracking-widest px-2 py-0.5 ${getRoleBadgeColor(role)}`}>\r\n                                    {role}\r\n                                </Badge>\r\n                                <div className=\"h-4 w-[1px] bg-zinc-800\"></div>\r\n                                <Button variant=\"ghost\" size=\"sm\" onClick={handleLogout} className=\"text-zinc-400 hover:text-white hover:bg-zinc-800\">\r\n                                    Sign out\r\n                                </Button>\r\n                            </>\r\n                        ) : (\r\n                            <Button size=\"sm\" asChild className=\"bg-white text-black hover:bg-zinc-200\">\r\n                                <Link href=\"/login\">Sign in</Link>\r\n                            </Button>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}