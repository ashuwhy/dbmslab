{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/Abo/Projects/Database%20Management%20Systems/Mid%20Semester%20Project/dbmslab/apps/web/lib/auth.ts"],"sourcesContent":["export const getToken = () => {\n    if (typeof window !== 'undefined') {\n        return localStorage.getItem('token');\n    }\n    return null;\n};\n\nexport const getRole = () => {\n    if (typeof window !== 'undefined') {\n        return localStorage.getItem('role');\n    }\n    return null;\n};\n\nexport const logout = () => {\n    if (typeof window !== 'undefined') {\n        localStorage.removeItem('token');\n        localStorage.removeItem('role');\n        window.dispatchEvent(new Event('auth-change'));\n        window.location.href = '/login';\n    }\n};\n\nexport const setAuth = (token: string, role: string) => {\n    if (typeof window !== 'undefined') {\n        localStorage.setItem('token', token);\n        localStorage.setItem('role', role);\n        window.dispatchEvent(new Event('auth-change'));\n    }\n};\n\nexport const fetchWithAuth = async (url: string, options: RequestInit = {}) => {\n    const token = getToken();\n    const headers = {\n        'Content-Type': 'application/json',\n        ...options.headers,\n        ...(token ? { Authorization: `Bearer ${token}` } : {}),\n    };\n\n    const res = await fetch(url, { ...options, headers });\n\n    if (res.status === 401) {\n        logout();\n    }\n\n    return res;\n};\n"],"names":[],"mappings":";;;;;;;;;;;;AAAO,MAAM,WAAW;IACpB,wCAAmC;QAC/B,OAAO,aAAa,OAAO,CAAC;IAChC;;;AAEJ;AAEO,MAAM,UAAU;IACnB,wCAAmC;QAC/B,OAAO,aAAa,OAAO,CAAC;IAChC;;;AAEJ;AAEO,MAAM,SAAS;IAClB,wCAAmC;QAC/B,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,OAAO,aAAa,CAAC,IAAI,MAAM;QAC/B,OAAO,QAAQ,CAAC,IAAI,GAAG;IAC3B;AACJ;AAEO,MAAM,UAAU,CAAC,OAAe;IACnC,wCAAmC;QAC/B,aAAa,OAAO,CAAC,SAAS;QAC9B,aAAa,OAAO,CAAC,QAAQ;QAC7B,OAAO,aAAa,CAAC,IAAI,MAAM;IACnC;AACJ;AAEO,MAAM,gBAAgB,OAAO,KAAa,UAAuB,CAAC,CAAC;IACtE,MAAM,QAAQ;IACd,MAAM,UAAU;QACZ,gBAAgB;QAChB,GAAG,QAAQ,OAAO;QAClB,GAAI,QAAQ;YAAE,eAAe,CAAC,OAAO,EAAE,OAAO;QAAC,IAAI,CAAC,CAAC;IACzD;IAEA,MAAM,MAAM,MAAM,MAAM,KAAK;QAAE,GAAG,OAAO;QAAE;IAAQ;IAEnD,IAAI,IAAI,MAAM,KAAK,KAAK;QACpB;IACJ;IAEA,OAAO;AACX"}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///home/Abo/Projects/Database%20Management%20Systems/Mid%20Semester%20Project/dbmslab/apps/web/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n    return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACtC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACxB"}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///home/Abo/Projects/Database%20Management%20Systems/Mid%20Semester%20Project/dbmslab/apps/web/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n    \"inline-flex items-center justify-center whitespace-nowrap rounded-none text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50\",\n    {\n        variants: {\n            variant: {\n                default:\n                    \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\n                destructive:\n                    \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n                outline:\n                    \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\n                secondary:\n                    \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n                ghost: \"hover:bg-accent hover:text-accent-foreground\",\n                link: \"text-primary underline-offset-4 hover:underline\",\n            },\n            size: {\n                default: \"h-9 px-4 py-2\",\n                sm: \"h-8 rounded-none px-3 text-xs\",\n                lg: \"h-10 rounded-none px-8\",\n                icon: \"h-9 w-9\",\n            },\n        },\n        defaultVariants: {\n            variant: \"default\",\n            size: \"default\",\n        },\n    }\n)\n\nexport interface ButtonProps\n    extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n    asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n    ({ className, variant, size, asChild = false, ...props }, ref) => {\n        const Comp = asChild ? Slot : \"button\"\n        return (\n            <Comp\n                className={cn(buttonVariants({ variant, size, className }))}\n                ref={ref}\n                {...props}\n            />\n        )\n    }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACtB,yOACA;IACI,UAAU;QACN,SAAS;YACL,SACI;YACJ,aACI;YACJ,SACI;YACJ,WACI;YACJ,OAAO;YACP,MAAM;QACV;QACA,MAAM;YACF,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACV;IACJ;IACA,iBAAiB;QACb,SAAS;QACT,MAAM;IACV;AACJ;AASJ,MAAM,uBAAS,2KAAgB,MAC3B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACtD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAC9B,qBACI,6LAAC;QACG,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGrB;;AAEJ,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 155, "column": 0}, "map": {"version":3,"sources":["file:///home/Abo/Projects/Database%20Management%20Systems/Mid%20Semester%20Project/dbmslab/apps/web/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n    \"inline-flex items-center rounded-none border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n    {\n        variants: {\n            variant: {\n                default:\n                    \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n                secondary:\n                    \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n                destructive:\n                    \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n                outline: \"text-foreground\",\n            },\n        },\n        defaultVariants: {\n            variant: \"default\",\n        },\n    }\n)\n\nexport interface BadgeProps\n    extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> { }\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n    return (\n        <div className={cn(badgeVariants({ variant }), className)} {...props} />\n    )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACrB,0KACA;IACI,UAAU;QACN,SAAS;YACL,SACI;YACJ,WACI;YACJ,aACI;YACJ,SAAS;QACb;IACJ;IACA,iBAAiB;QACb,SAAS;IACb;AACJ;AAOJ,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACvD,qBACI,6LAAC;QAAI,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAE5E;KAJS"}},
    {"offset": {"line": 203, "column": 0}, "map": {"version":3,"sources":["file:///home/Abo/Projects/Database%20Management%20Systems/Mid%20Semester%20Project/dbmslab/apps/web/app/components/Navbar.tsx"],"sourcesContent":["'use client';\n\nimport { useSyncExternalStore } from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { getRole, logout } from '@/lib/auth';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\n\nconst subscribe = (callback: () => void) => {\n    window.addEventListener('storage', callback);\n    window.addEventListener('auth-change', callback);\n    return () => {\n        window.removeEventListener('storage', callback);\n        window.removeEventListener('auth-change', callback);\n    };\n};\n\nexport default function Navbar() {\n    const role = useSyncExternalStore(subscribe, getRole, () => null);\n    const pathname = usePathname();\n\n    const handleLogout = () => {\n        logout();\n        // Since logout redirects, we might not need to manually push, \n        // but keeping it for safety if logout() behavior changes.\n    };\n\n    const isActive = (path: string) => pathname === path || pathname.startsWith(path + '/');\n\n    // Always render navbar, but content depends on role (or lack thereof)\n    const getRoleBadgeColor = (role: string) => {\n        switch (role) {\n            case 'admin': return 'border-red-900 text-red-400 bg-red-900/10';\n            case 'instructor': return 'border-blue-900 text-blue-400 bg-blue-900/10';\n            case 'student': return 'border-green-900 text-green-400 bg-green-900/10';\n            case 'analyst': return 'border-yellow-900 text-yellow-400 bg-yellow-900/10';\n            default: return 'border-zinc-700 text-zinc-400';\n        }\n    };\n\n    return (\n        <nav className=\"border-b border-zinc-800 sticky top-0 bg-[#09090b]/80 backdrop-blur-md z-50 transition-all duration-300\">\n            <div className=\"mx-auto max-w-7xl px-6\">\n                <div className=\"flex h-16 items-center justify-between\">\n                    <div className=\"flex items-center gap-8\">\n                        <Link href=\"/\" className=\"flex items-center gap-2 text-lg font-bold text-white tracking-tight hover:text-blue-400 transition-colors\">\n                            <span>Index Corruption Institute</span>\n                        </Link>\n                        <div className=\"flex items-center gap-1\">\n                            {role === 'student' && (\n                                <>\n                                    <Button variant={isActive('/student') ? 'secondary' : 'ghost'} asChild className=\"h-8 text-sm\">\n                                        <Link href=\"/student\">Dashboard</Link>\n                                    </Button>\n                                    <Button variant={isActive('/student/courses') ? 'secondary' : 'ghost'} asChild className=\"h-8 text-sm\">\n                                        <Link href=\"/student/courses\">Courses</Link>\n                                    </Button>\n                                </>\n                            )}\n                            {role === 'instructor' && (\n                                <>\n                                    <Button variant={isActive('/instructor') ? 'secondary' : 'ghost'} asChild className=\"h-8 text-sm\">\n                                        <Link href=\"/instructor\">Dashboard</Link>\n                                    </Button>\n                                    <Button variant={isActive('/instructor/courses') ? 'secondary' : 'ghost'} asChild className=\"h-8 text-sm\">\n                                        <Link href=\"/instructor/courses\">My Courses</Link>\n                                    </Button>\n                                </>\n                            )}\n                            {role === 'admin' && (\n                                <>\n                                    <Button variant={isActive('/admin') ? 'secondary' : 'ghost'} asChild className=\"h-8 text-sm\">\n                                        <Link href=\"/admin\">Dashboard</Link>\n                                    </Button>\n                                    <Button variant={isActive('/admin/users') ? 'secondary' : 'ghost'} asChild className=\"h-8 text-sm\">\n                                        <Link href=\"/admin/users\">Users</Link>\n                                    </Button>\n                                    <Button variant={isActive('/admin/courses') ? 'secondary' : 'ghost'} asChild className=\"h-8 text-sm\">\n                                        <Link href=\"/admin/courses\">Courses</Link>\n                                    </Button>\n                                </>\n                            )}\n                        </div>\n                    </div>\n                    <div className=\"flex items-center gap-4\">\n                        {role ? (\n                            <>\n                                <Badge variant=\"outline\" className={`uppercase text-[10px] tracking-widest px-2 py-0.5 ${getRoleBadgeColor(role)}`}>\n                                    {role}\n                                </Badge>\n                                <div className=\"h-4 w-[1px] bg-zinc-800\"></div>\n                                <Button variant=\"ghost\" size=\"sm\" onClick={handleLogout} className=\"text-zinc-400 hover:text-white hover:bg-zinc-800\">\n                                    Sign out\n                                </Button>\n                            </>\n                        ) : (\n                            <Button size=\"sm\" asChild className=\"bg-white text-black hover:bg-zinc-200\">\n                                <Link href=\"/login\">Sign in</Link>\n                            </Button>\n                        )}\n                    </div>\n                </div>\n            </div>\n        </nav>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}